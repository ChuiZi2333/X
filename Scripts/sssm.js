/******************************************
 * @name Áª≥Â∏àùêíùêå
 * @description Ëß£ÈîÅ‰ºöÂëòËßÜÈ¢ë
 * @channel https://t.me/yqc_123
 * @feedback https://t.me/yqc_777
 * @version 1.0.1
******************************************

## ËÑöÊú¨Ê≥®Êòé

1. ËÑöÊú¨Âè™ÊòØÈíàÂØπÂü∫‰∫é Quantumult X Âíå Surge ÂØπ Javascript Âíå WEB ÈÄÜÂêëÁöÑÂ≠¶‰π†Ôºå‰∏çÂæóÁî®‰∫éÂïÜ‰∏öÁî®ÈÄîÔºåÂê¶ÂàôÂêéÊûúËá™Ë¥ü„ÄÇ
2. ‰∏ç‰øùËØÅËÑöÊú¨ÂêàÊ≥ïÊÄß„ÄÅÂáÜÁ°ÆÊÄß„ÄÅÊúâÊïàÊÄßÔºåËØ∑Ê†πÊçÆÊÉÖÂÜµËá™Ë°åÂà§Êñ≠ÔºåÊú¨‰∫∫ÂØπÊ≠§‰∏çÊâøÊãÖ‰ªª‰Ωï‰øùËØÅË¥£‰ªª„ÄÇ
3. Êú¨‰∫∫ÂØπ‰ªª‰ΩïËÑöÊú¨ÂºïÂèëÁöÑÈóÆÈ¢òÊ¶Ç‰∏çË¥üË¥£ÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÁî±ËÑöÊú¨ÈîôËØØÂºïËµ∑ÁöÑ‰ªª‰ΩïÊçüÂ§±ÂíåÊçüÂÆ≥„ÄÇ
4. ËΩ¨ËΩΩËÑöÊú¨ËØ∑Ê≥®ÊòéÊù•Ê∫êÔºåÊ¨¢ËøéÂàÜ‰∫´ÔºåÊãíÁªùÂÄíÂçñÔºåÂÄíÂçñ üêï ÂøÖÊ≠ª üêé„ÄÇ
5. Â¶ÇÊûú‰ªª‰ΩïÂçï‰ΩçÊàñ‰∏™‰∫∫ËÆ§‰∏∫Ê≠§ËÑöÊú¨ÂèØËÉΩÊ∂âÂ´å‰æµÁäØÂÖ∂ÊùÉÂà©ÔºåÂ∫îÂèäÊó∂ÈÄöÁü•Âπ∂Êèê‰æõË∫´‰ªΩËØÅÊòéÔºåÊâÄÊúâÊùÉËØÅÊòéÔºåÊàë‰ª¨Â∞ÜÂú®Êî∂Âà∞ËÆ§ËØÅÊñá‰ª∂Á°ÆËÆ§ÂêéÂà†Èô§Ê≠§ËÑöÊú¨„ÄÇ
6. ÊâÄÊúâÁõ¥Êé•ÊàñÈó¥Êé•‰ΩøÁî®„ÄÅÊü•ÁúãÊ≠§ËÑöÊú¨ÁöÑ‰∫∫ÂùáÂ∫îËØ•‰ªîÁªÜÈòÖËØªÊ≠§Â£∞Êòé, Êú¨‰∫∫‰øùÁïôÈöèÊó∂Êõ¥ÊîπÊàñË°•ÂÖÖÊ≠§Â£∞ÊòéÁöÑÊùÉÂà©, ‰∏ÄÊó¶ÊÇ®‰ΩøÁî®ÊàñÂ§çÂà∂‰∫ÜÊ≠§ËÑöÊú¨ÔºåÂç≥ËßÜ‰∏∫ÊÇ®Â∑≤Êé•ÂèóÊ≠§ÂÖçË¥£Â£∞Êòé„ÄÇ
7. Ê¨¢ËøéÂØπ[Êú¨‰ªìÂ∫ì](https://github.com/Yuheng0101/X)Star‚úÖÔºå‰ΩÜËØ∑‰∏çË¶Å Fork‚ùå„ÄÇ

[Áª≥Â∏àSM](https://syz.xn--fiq2km75ifcu.com/sssm.html?v=xboY40kLeg)

## Ëá¥Ë∞¢

[@Ëãç‰∫ïÁÅ∞ÁÅ∞](https://t.me/wangfei021325)

******************************************
hostname = *.sssm.info,*.cloudfront.net,*.ddosapi.cyou
# Ëß£ÈîÅ
^https?:\/\/.*(sssm|cloudfront|ddosapi).+\/api(\/v1|)\/videos(\/\w+|)\/show url script-request-header https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/sssm.js
# ‰∏™‰∫∫‰∏≠ÂøÉ
^https?:\/\/.*(sssm|cloudfront|ddosapi).+\/api(\/v1|)\/(banners|users\/get_profile) url script-response-body https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/sssm.js

*/
const $ = new Env('ùêíùêíùêíùêå')
var _0xodj='jsjiami.com.v7';const _0xf9124a=_0x4fea;(function(_0x59d319,_0x3e0cce,_0x5f0b8e,_0xd165f4,_0x22727c,_0x244f5c,_0x48596f){return _0x59d319=_0x59d319>>0x8,_0x244f5c='hs',_0x48596f='hs',function(_0x348a54,_0x4bb624,_0x4ff054,_0x157f57,_0x149bab){const _0x279aef=_0x4fea;_0x157f57='tfi',_0x244f5c=_0x157f57+_0x244f5c,_0x149bab='up',_0x48596f+=_0x149bab,_0x244f5c=_0x4ff054(_0x244f5c),_0x48596f=_0x4ff054(_0x48596f),_0x4ff054=0x0;const _0x5dedbb=_0x348a54();while(!![]&&--_0xd165f4+_0x4bb624){try{_0x157f57=parseInt(_0x279aef(0x1df,'EpA*'))/0x1*(parseInt(_0x279aef(0x197,'Pk6m'))/0x2)+-parseInt(_0x279aef(0x16f,'HkCT'))/0x3+-parseInt(_0x279aef(0x18c,'YSF2'))/0x4+-parseInt(_0x279aef(0x164,'@XFj'))/0x5*(parseInt(_0x279aef(0x1c5,'zZ[4'))/0x6)+parseInt(_0x279aef(0x192,'aCd2'))/0x7+parseInt(_0x279aef(0x14c,'iq1Z'))/0x8*(parseInt(_0x279aef(0x15e,'QT*u'))/0x9)+parseInt(_0x279aef(0x1ca,'I%#c'))/0xa;}catch(_0x1ee719){_0x157f57=_0x4ff054;}finally{_0x149bab=_0x5dedbb[_0x244f5c]();if(_0x59d319<=_0xd165f4)_0x4ff054?_0x22727c?_0x157f57=_0x149bab:_0x22727c=_0x149bab:_0x4ff054=_0x149bab;else{if(_0x4ff054==_0x22727c['replace'](/[yPRgFHCTAwMEBlIbWU=]/g,'')){if(_0x157f57===_0x4bb624){_0x5dedbb['un'+_0x244f5c](_0x149bab);break;}_0x5dedbb[_0x48596f](_0x149bab);}}}}}(_0x5f0b8e,_0x3e0cce,function(_0x8f1b08,_0x129002,_0x3eb1d2,_0x5b43cc,_0x1b6d58,_0x4aed85,_0x4d6d39){return _0x129002='\x73\x70\x6c\x69\x74',_0x8f1b08=arguments[0x0],_0x8f1b08=_0x8f1b08[_0x129002](''),_0x3eb1d2='\x72\x65\x76\x65\x72\x73\x65',_0x8f1b08=_0x8f1b08[_0x3eb1d2]('\x76'),_0x5b43cc='\x6a\x6f\x69\x6e',(0x1516ca,_0x8f1b08[_0x5b43cc](''));});}(0xc300,0x5d534,_0x547e,0xc5),_0x547e)&&(_0xodj=_0xf9124a(0x1cf,'HJ9n'));const debug=![],server=_0xf9124a(0x19b,'HkCT'),[domain,host]=$request?.[_0xf9124a(0x17d,'EpA*')]?.[_0xf9124a(0x17c,'g5U9')](/^(?:https?:\/\/)?([^\/\s]+)/)||[_0xf9124a(0x1bf,'c*F4'),_0xf9124a(0x19e,'8OFx')],statusMessages={0x190:'ËØ∑Ê±ÇÂèÇÊï∞ÈîôËØØ',0x191:_0xf9124a(0x1b4,'V8Cz'),0x193:'Ë∑®ÂüüÊãíÁªùËÆøÈóÆ',0x198:'ËØ∑Ê±ÇË∂ÖÊó∂',0x1f4:'ÊúçÂä°Âô®ÂÜÖÈÉ®ÈîôËØØ',0x1f5:_0xf9124a(0x159,'AsWA'),0x1f6:_0xf9124a(0x169,'X*Zq'),0x1f7:'ÊúçÂä°‰∏çÂèØÁî®',0x1f8:_0xf9124a(0x1b7,'kU4G'),0x1f9:_0xf9124a(0x168,'6K#(')},ModifyReq=async()=>{const _0x40844b=_0xf9124a,_0x21c73f={'UzkLa':function(_0x236fa9,_0x10226e){return _0x236fa9(_0x10226e);},'sWmLU':function(_0x1b6818,_0x5562f6){return _0x1b6818(_0x5562f6);}},_0x258d9e=_0x21c73f[_0x40844b(0x1cd,'vQQD')](ObjectKeys2LowerCase,$request['headers']);let _0x31e5ce='SM';_0x21c73f['UzkLa'](output,'type:\x20'+_0x31e5ce);const _0xd63774=await _0x21c73f['sWmLU'](RefreshToken,_0x31e5ce);_0x21c73f['sWmLU'](output,_0x40844b(0x1cb,'U2WS')+_0xd63774),Object['assign'](_0x258d9e,{'authorization':_0x40844b(0x157,']uQY')+_0xd63774}),$[_0x40844b(0x1d0,'x@y[')]({'headers':_0x258d9e});},ModifyResp=async()=>{const _0x13b18d=_0xf9124a,_0x3bea8a={'oZbNl':function(_0x46ca3e,_0x1e3088){return _0x46ca3e*_0x1e3088;},'TEnpS':function(_0x20627c,_0xdefde8){return _0x20627c-_0xdefde8;},'kVkpP':function(_0x355217,_0x2052af){return _0x355217(_0x2052af);},'XsnTS':function(_0x39482b,_0x3f6b0c){return _0x39482b(_0x3f6b0c);},'XiqhD':_0x13b18d(0x181,'E^GB'),'gERsk':'2099-11-18','nIXpF':_0x13b18d(0x1a2,'5abo'),'kRcGw':_0x13b18d(0x172,'QT*u'),'gIsYb':'https://avatars.githubusercontent.com/u/50571734?s=120&u=9626b891a9e3fb3f73e38fb2f9d9583a2d78e9fe&v=4','tcVjS':function(_0x557e48,_0x441768){return _0x557e48===_0x441768;},'ujkHG':_0x13b18d(0x155,'M]V2'),'yvJqP':function(_0x253719,_0x42c181){return _0x253719(_0x42c181);}};let _0x58ead4=JSON['parse']($response[_0x13b18d(0x1a6,'c*F4')]);_0x3bea8a[_0x13b18d(0x19a,'$z8E')](output,'obj:\x20'+JSON[_0x13b18d(0x1a9,'%yt!')](_0x58ead4));let {sign:_0x5781a8,data:_0x16ca8f}=await DecryptResp(_0x58ead4);_0x3bea8a[_0x13b18d(0x1ad,'EPTX')](output,_0x13b18d(0x179,'EpA*')+JSON[_0x13b18d(0x176,'&*3m')](_0x16ca8f));_0x16ca8f[_0x13b18d(0x1c7,'$z8E')]!=='0'&&($[_0x13b18d(0x14f,'9TNN')]('','‚ùóÔ∏è'+$['name']+_0x13b18d(0x14b,'cuZu'),statusMessages[_0x16ca8f['code']]||_0x13b18d(0x1ac,'g5U9')),$[_0x13b18d(0x1a4,'$z8E')]({'body':JSON[_0x13b18d(0x1d4,'X*Zq')]({'obj':_0x58ead4})}));if(/users\/get_profile/[_0x13b18d(0x15d,'X*Zq')]($request[_0x13b18d(0x152,'7V@u')])){const _0x2ec0ef=_0x13b18d(0x1b3,'%yt!')['split']('|');let _0x57d872=0x0;while(!![]){switch(_0x2ec0ef[_0x57d872++]){case'0':_0x16ca8f['data'][_0x13b18d(0x16e,'I%#c')]=0x3e7;continue;case'1':_0x16ca8f[_0x13b18d(0x1db,'0ab%')]['vip_type']=_0x3bea8a['XiqhD'];continue;case'2':_0x16ca8f[_0x13b18d(0x1ba,'x@y[')]['is_vip']=!![];continue;case'3':_0x16ca8f['data'][_0x13b18d(0x198,'YSF2')]=0x1;continue;case'4':_0x16ca8f[_0x13b18d(0x1cc,'E^GB')]['is_up']=0x1;continue;case'5':_0x16ca8f[_0x13b18d(0x17b,'5abo')][_0x13b18d(0x174,'6K#(')]=_0x3bea8a[_0x13b18d(0x171,'^wSu')];continue;case'6':_0x16ca8f['data']['balance']=_0x3bea8a[_0x13b18d(0x1c3,'X*Zq')];continue;case'7':_0x16ca8f['data']['nickname']=_0x3bea8a['kRcGw'];continue;case'8':_0x16ca8f[_0x13b18d(0x1af,'X*Zq')][_0x13b18d(0x1b9,'QT*u')]=0x3e7;continue;case'9':_0x16ca8f[_0x13b18d(0x194,'aCd2')]['avatar']=_0x3bea8a[_0x13b18d(0x1d5,'6K#(')];continue;case'10':_0x16ca8f[_0x13b18d(0x160,'9Z)C')][_0x13b18d(0x1aa,'EPTX')]=0x3e7;continue;}break;}}if(/banners/[_0x13b18d(0x1ab,'g5U9')]($request['url'])){if(_0x3bea8a[_0x13b18d(0x185,'ZjNM')](_0x13b18d(0x1de,'EPTX'),_0x3bea8a[_0x13b18d(0x186,'4^y3')])){var _0x156ce2=_0x4bf71b['round'](_0x3bea8a['oZbNl'](_0x592930['random'](),_0x3bea8a[_0x13b18d(0x154,'kU4G')](_0x41cf08[_0x13b18d(0x158,'vQQD')],0x1)));_0x30c29d+=_0x4abc51[_0x156ce2];}else _0x16ca8f[_0x13b18d(0x1a0,'AZjF')]=[];}let _0x464796=await _0x3bea8a['XsnTS'](EncryptReq,{'sign':_0x5781a8,'data':_0x16ca8f});_0x3bea8a[_0x13b18d(0x16a,'aCd2')](output,'encrypted:\x20'+_0x464796),$['done']({'body':JSON['stringify']({'sign':_0x58ead4[_0x13b18d(0x1b8,'EPTX')],'responseData':_0x464796})});};function RefreshToken(_0x3bc380){const _0x32e515=_0xf9124a,_0x3753a4={'mbTIK':function(_0x137b2f,_0x22565e){return _0x137b2f(_0x22565e);},'xtQkN':_0x32e515(0x1c9,'YSF2'),'VnLtI':'TVcag','BOKOZ':_0x32e515(0x1bc,'kU4G'),'NHpfd':function(_0x5e470b,_0x47f044){return _0x5e470b+_0x47f044;},'RRBvq':function(_0x3e75e3,_0xf3dba6){return _0x3e75e3*_0xf3dba6;},'DJmsZ':function(_0x30adc9,_0x5a94c4){return _0x30adc9-_0x5a94c4;},'amIHX':function(_0x24be07,_0x10e682){return _0x24be07<_0x10e682;},'AskGV':function(_0x4794be,_0x274b51){return _0x4794be!==_0x274b51;},'tnZym':'tHvkZ','Kmlzy':function(_0xcee828,_0x5e187c){return _0xcee828-_0x5e187c;},'Ihazk':function(_0x109f0b,_0x4d4a14){return _0x109f0b(_0x4d4a14);},'FUXXA':function(_0x1dc361,_0x413b25){return _0x1dc361(_0x413b25);},'oLFvP':function(_0x11590a,_0x43877a){return _0x11590a(_0x43877a);},'xVCxx':function(_0x4bbfa7,_0x58c115){return _0x4bbfa7(_0x58c115);},'CAHEq':'web','ChvNa':'Mozilla/5.0\x20(Linux;\x20Android\x2010;\x20Redmi\x20K30\x20Pro)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/87.0.4280.141\x20Mobile\x20Safari/537.36','YgZrp':function(_0x273724,_0x3369ad,_0x100815){return _0x273724(_0x3369ad,_0x100815);}},_0x3fb1b4=function(_0x1301b2,_0x2962f8,_0x42ad02){const _0xf2ad29=_0x32e515;if(_0x3753a4['VnLtI']===_0x3753a4['BOKOZ']){const {success:_0x22791d,data:_0xd708a5,message:_0x607217}=_0x3ee219[_0xf2ad29(0x1e0,'$z8E')](_0x929cd8);_0x22791d?_0x3753a4[_0xf2ad29(0x167,'leLn')](_0x33a5eb,_0xd708a5):_0x3753a4[_0xf2ad29(0x1d8,'0ab%')](_0x30ea25,_0x607217);}else{var _0x527c97='',_0xcd31f4=_0x2962f8,_0x26a455=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];_0x1301b2&&(_0xcd31f4=_0x3753a4[_0xf2ad29(0x175,'Q$z9')](Math['round'](_0x3753a4['RRBvq'](Math[_0xf2ad29(0x156,'^wSu')](),_0x3753a4['DJmsZ'](_0x42ad02,_0x2962f8))),_0x2962f8));for(var _0x494870=0x0;_0x3753a4[_0xf2ad29(0x18b,'cuZu')](_0x494870,_0xcd31f4);_0x494870++){if(_0x3753a4['AskGV'](_0x3753a4[_0xf2ad29(0x14d,'EHV]')],_0xf2ad29(0x1d3,'X*Zq'))){const _0x5ace04={'GZQIa':function(_0x25cf78,_0x199f62){return _0x25cf78(_0x199f62);},'zNhUu':_0x3753a4['xtQkN']};return new _0x5632fc((_0x218ef1,_0x336d64)=>{const _0x3485be=_0xf2ad29,_0x47d950={'yZfdz':function(_0x392708,_0x40013d){const _0x2843c5=_0x4fea;return _0x5ace04[_0x2843c5(0x1bb,'X*Zq')](_0x392708,_0x40013d);},'boStV':function(_0x456bcb,_0x57ef45){return _0x456bcb(_0x57ef45);},'oEtoM':function(_0x53bef4,_0x53a88b){return _0x5ace04['GZQIa'](_0x53bef4,_0x53a88b);}};_0x5cc52d[_0x3485be(0x15b,'6K#(')]({'url':_0x531be2+'/api/series6/decrypt','headers':{'Content-Type':_0x5ace04['zNhUu']},'body':_0x1dc7ec['stringify']({'yh':_0x1a2912})},(_0x337e14,_0x123db3,_0x4694f1)=>{const _0x32078d=_0x3485be;if(_0x337e14)_0x47d950[_0x32078d(0x150,'cuZu')](_0x336d64,_0x337e14);else{const {success:_0x43917b,data:_0x2c5efa,message:_0x1a1d4e}=_0xc066bc[_0x32078d(0x188,'9TNN')](_0x4694f1);_0x43917b?_0x47d950[_0x32078d(0x189,'4^y3')](_0x218ef1,_0x2c5efa):_0x47d950[_0x32078d(0x165,'EpA*')](_0x336d64,_0x1a1d4e);}});});}else{var _0x2e8fb6=Math[_0xf2ad29(0x1dc,'8OFx')](Math[_0xf2ad29(0x1bd,'Q$z9')]()*_0x3753a4[_0xf2ad29(0x1a8,'&b5I')](_0x26a455[_0xf2ad29(0x1ce,'kU4G')],0x1));_0x527c97+=_0x26a455[_0x2e8fb6];}}return _0x527c97;}};return new Promise((_0x2a6785,_0x4bd66c)=>{const _0x467270=_0x32e515;$[_0x467270(0x1c2,'yXDm')]({'url':domain+_0x467270(0x1c1,'QT*u'),'headers':{'Accept':_0x3753a4['xtQkN'],'Origin':''+domain,'Host':host,'Content-Type':_0x467270(0x1da,'vQQD'),'x-app-name':'SM','x-antv-client':_0x3753a4[_0x467270(0x17a,'AsWA')],'User-Agent':_0x3753a4[_0x467270(0x1a3,'0ab%')]},'body':JSON['stringify']({'imei':_0x3753a4[_0x467270(0x173,'AZjF')](_0x3fb1b4,!0x1,0x20)})},async(_0x548ec4,_0x1af37c,_0x11140b)=>{const _0xcf6181=_0x467270;if(_0x548ec4)_0x3753a4[_0xcf6181(0x178,'QT*u')](_0x4bd66c,_0x548ec4);else{const {data:{code:_0x2cc717,message:_0x5054b8,data:_0x3802d7}}=await _0x3753a4['FUXXA'](DecryptResp,JSON[_0xcf6181(0x1ae,'(ukN')](_0x11140b));_0x3753a4[_0xcf6181(0x15c,'6K#(')](output,_0xcf6181(0x170,'HJ9n')+_0x2cc717+_0xcf6181(0x193,'HJ9n')+_0x5054b8+_0xcf6181(0x184,'x@y[')+JSON['stringify'](_0x3802d7)),'0'===_0x2cc717?_0x2a6785(_0x3802d7[_0xcf6181(0x1b2,'x@y[')]):_0x3753a4[_0xcf6181(0x1b1,'^wSu')](_0x4bd66c,statusMessages[_0x2cc717]||_0x5054b8);}});});}function DecryptResp(_0x2d5c16){const _0x3c8db8=_0xf9124a,_0x432ae3={'rFiGp':function(_0xdaa822,_0xdc6c40){return _0xdaa822!==_0xdc6c40;},'pDGEj':_0x3c8db8(0x18d,'6K#('),'IIwrK':function(_0x1874e6,_0x301113){return _0x1874e6(_0x301113);},'pkDqR':_0x3c8db8(0x1d1,'9TNN'),'AzYgy':'application/json'};return new Promise((_0x115025,_0x15ca75)=>{const _0x26e318=_0x3c8db8,_0x665494={'kerEm':function(_0x552ee2,_0x230962){return _0x432ae3['rFiGp'](_0x552ee2,_0x230962);},'nSbPZ':_0x432ae3[_0x26e318(0x19f,'9Z)C')],'ztpoS':function(_0xd339e4,_0x262dc9){return _0x432ae3['IIwrK'](_0xd339e4,_0x262dc9);},'MLDTd':_0x432ae3[_0x26e318(0x1d9,'HkCT')]};$['post']({'url':server+'/api/series6/decrypt','headers':{'Content-Type':_0x432ae3['AzYgy']},'body':JSON[_0x26e318(0x1c4,'(ukN')]({'yh':_0x2d5c16})},(_0x37ae96,_0x14dbe2,_0x31f73e)=>{const _0x532f5f=_0x26e318;if(_0x665494[_0x532f5f(0x190,'(ukN')](_0x665494[_0x532f5f(0x1c8,'7V@u')],_0x532f5f(0x16c,'YSF2'))){if(_0x37ae96)_0x665494[_0x532f5f(0x18f,'zZ[4')](_0x15ca75,_0x37ae96);else{if(_0x665494[_0x532f5f(0x1d7,'6K#(')]!==_0x532f5f(0x1b6,'V8Cz'))_0x122c9a&&_0x262620[_0x532f5f(0x183,'8OFx')]([..._0x190c17][_0x532f5f(0x15f,'EpA*')]('\x0a'));else{const {success:_0x36e500,data:_0x1d2266,message:_0x173a05}=JSON['parse'](_0x31f73e);_0x36e500?_0x665494['ztpoS'](_0x115025,_0x1d2266):_0x665494[_0x532f5f(0x1c0,'RRk&')](_0x15ca75,_0x173a05);}}}else _0x2c7fe8[_0x36101b[_0x532f5f(0x1b5,'HkCT')]()]=_0x138b2e[_0x36090f];});});}function EncryptReq(_0x313b3b){const _0x480657=_0xf9124a,_0x51af10={'EYMAz':function(_0x4c1618,_0x44955c){return _0x4c1618(_0x44955c);},'tQcus':function(_0x5a4f69,_0x2da361){return _0x5a4f69(_0x2da361);},'LSZuQ':function(_0x58cd07,_0x2c61f8){return _0x58cd07(_0x2c61f8);},'GideP':function(_0x58abe8,_0x2500c8){return _0x58abe8(_0x2500c8);},'gIPhl':_0x480657(0x16d,'cuZu'),'UEtfE':'application/json'};return new Promise((_0x56d381,_0x5a92fd)=>{const _0x461090=_0x480657;if(_0x51af10[_0x461090(0x161,'EPTX')]!==_0x51af10[_0x461090(0x1a5,'Pk6m')]){if(_0x15f75f)_0x51af10[_0x461090(0x177,'ui%%')](_0x1aa71e,_0x51860a);else{const {success:_0x52a2f8,data:_0x31a478,message:_0x156501}=_0x286ba2['parse'](_0x4d5d2d);_0x52a2f8?_0x51af10[_0x461090(0x166,'@XFj')](_0x45b955,_0x31a478):_0x51af10[_0x461090(0x15a,'kU4G')](_0x4bcbf6,_0x156501);}}else $[_0x461090(0x199,'x@y[')]({'url':server+_0x461090(0x182,'(ukN'),'headers':{'Content-Type':_0x51af10[_0x461090(0x195,'$z8E')]},'body':JSON[_0x461090(0x1a7,'leLn')]({'yh':_0x313b3b})},(_0x1ce160,_0x457584,_0x29f97e)=>{const _0x381ebe=_0x461090;if(_0x1ce160)_0x51af10[_0x381ebe(0x1c6,'x@y[')](_0x5a92fd,_0x1ce160);else{const {success:_0x2b159d,data:_0x34ab13,message:_0x2b8654}=JSON[_0x381ebe(0x191,'HJ9n')](_0x29f97e);_0x2b159d?_0x51af10[_0x381ebe(0x1d6,'6K#(')](_0x56d381,_0x34ab13):_0x5a92fd(_0x2b8654);}});});};(async()=>{const _0x1b1299=_0xf9124a,_0x1c143a={'jRIMT':function(_0x332812,_0x4fba7a){return _0x332812(_0x4fba7a);},'cGYmU':function(_0x30e99b,_0x4c4398){return _0x30e99b(_0x4c4398);},'YRWOw':function(_0x47f436,_0x2c4761){return _0x47f436(_0x2c4761);},'LyRHk':function(_0x3f8dcd,_0x339ecf){return _0x3f8dcd!==_0x339ecf;},'tIiMT':_0x1b1299(0x18a,'mAP^'),'voKEt':function(_0x376b54){return _0x376b54();}};if(/videos(\/\w+|)\/show/[_0x1b1299(0x14e,'HkCT')]($request['url'])){if(_0x1c143a[_0x1b1299(0x17f,'V*t2')](_0x1b1299(0x163,'5abo'),_0x1c143a[_0x1b1299(0x19c,'jdL3')]))await ModifyReq();else{if(_0x2548e9)_0x1c143a[_0x1b1299(0x180,'kU4G')](_0x1cffcb,_0x17825b);else{const {success:_0x42de8d,data:_0x484005,message:_0x395920}=_0x229ff3[_0x1b1299(0x1be,'Pk6m')](_0x2ac2f9);_0x42de8d?_0x1c143a[_0x1b1299(0x17e,'EHV]')](_0x435cfa,_0x484005):_0x1c143a[_0x1b1299(0x16b,'jdL3')](_0x264715,_0x395920);}}}else await _0x1c143a['voKEt'](ModifyResp);})()[_0xf9124a(0x162,'leLn')](_0x49f459=>$['logErr'](_0x49f459));function ObjectKeys2LowerCase(_0x32bd0b){const _0x272ca9=_0xf9124a;let _0x1a0a71={};for(let _0x2b9984 in _0x32bd0b){_0x1a0a71[_0x2b9984[_0x272ca9(0x187,'leLn')]()]=_0x32bd0b[_0x2b9984];}return _0x1a0a71;}function _0x4fea(_0x3f727d,_0x217b83){const _0x547e68=_0x547e();return _0x4fea=function(_0x4fea13,_0x32f03e){_0x4fea13=_0x4fea13-0x14b;let _0x40a790=_0x547e68[_0x4fea13];if(_0x4fea['rwtRPv']===undefined){var _0x37fea8=function(_0x36ee7b){const _0x20423e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x315828='',_0x5d3e40='';for(let _0x5aa084=0x0,_0x3595f4,_0x32c1dd,_0xb39bc8=0x0;_0x32c1dd=_0x36ee7b['charAt'](_0xb39bc8++);~_0x32c1dd&&(_0x3595f4=_0x5aa084%0x4?_0x3595f4*0x40+_0x32c1dd:_0x32c1dd,_0x5aa084++%0x4)?_0x315828+=String['fromCharCode'](0xff&_0x3595f4>>(-0x2*_0x5aa084&0x6)):0x0){_0x32c1dd=_0x20423e['indexOf'](_0x32c1dd);}for(let _0x2cd231=0x0,_0x3c2af0=_0x315828['length'];_0x2cd231<_0x3c2af0;_0x2cd231++){_0x5d3e40+='%'+('00'+_0x315828['charCodeAt'](_0x2cd231)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5d3e40);};const _0x27cc9d=function(_0x233e8f,_0x2a2949){let _0x4cfa51=[],_0x569cd6=0x0,_0x2e7914,_0x4c48c9='';_0x233e8f=_0x37fea8(_0x233e8f);let _0x1c4ba5;for(_0x1c4ba5=0x0;_0x1c4ba5<0x100;_0x1c4ba5++){_0x4cfa51[_0x1c4ba5]=_0x1c4ba5;}for(_0x1c4ba5=0x0;_0x1c4ba5<0x100;_0x1c4ba5++){_0x569cd6=(_0x569cd6+_0x4cfa51[_0x1c4ba5]+_0x2a2949['charCodeAt'](_0x1c4ba5%_0x2a2949['length']))%0x100,_0x2e7914=_0x4cfa51[_0x1c4ba5],_0x4cfa51[_0x1c4ba5]=_0x4cfa51[_0x569cd6],_0x4cfa51[_0x569cd6]=_0x2e7914;}_0x1c4ba5=0x0,_0x569cd6=0x0;for(let _0x26b09d=0x0;_0x26b09d<_0x233e8f['length'];_0x26b09d++){_0x1c4ba5=(_0x1c4ba5+0x1)%0x100,_0x569cd6=(_0x569cd6+_0x4cfa51[_0x1c4ba5])%0x100,_0x2e7914=_0x4cfa51[_0x1c4ba5],_0x4cfa51[_0x1c4ba5]=_0x4cfa51[_0x569cd6],_0x4cfa51[_0x569cd6]=_0x2e7914,_0x4c48c9+=String['fromCharCode'](_0x233e8f['charCodeAt'](_0x26b09d)^_0x4cfa51[(_0x4cfa51[_0x1c4ba5]+_0x4cfa51[_0x569cd6])%0x100]);}return _0x4c48c9;};_0x4fea['bGEpdT']=_0x27cc9d,_0x3f727d=arguments,_0x4fea['rwtRPv']=!![];}const _0x1e51cf=_0x547e68[0x0],_0x5b6b73=_0x4fea13+_0x1e51cf,_0x3496e1=_0x3f727d[_0x5b6b73];return!_0x3496e1?(_0x4fea['touShv']===undefined&&(_0x4fea['touShv']=!![]),_0x40a790=_0x4fea['bGEpdT'](_0x40a790,_0x32f03e),_0x3f727d[_0x5b6b73]=_0x40a790):_0x40a790=_0x3496e1,_0x40a790;},_0x4fea(_0x3f727d,_0x217b83);}function _0x547e(){const _0x3a4176=(function(){return[_0xodj,'PlEjRsgIjHiMagFmwRMibM.HcomC.WHvI7UByATw==','g15Uzmow','hgjQzSoIn3z1W40','qCoaomoUWP8','ASoAeCocWQW','A8ofd8oJWPK','DSoEjdVdLG','WP/cOajhW6u','EMu1jgW2dgRcKhxdNe3cVSkHvI8','F8oDbbm','fSoLqsxdIq','vmo4i8kP','W7FdP8kaxCof','WRrKW69etCkQsG','imkbWOnmW58','W6xcKoMwQEISOSoX','W6GIWPpdGI/cThq','bCkVq8ontG','WPVcRJvc','AmkVua','WRddQSowWQNcQG','stXlWOpcOqqXeSoEvHddVIe','WPXIia','B8kvWOa','WOJdRmk9WRFdQW','E8kfsCoFW4u','WOSLEtujpa','W7hdSYlcSwVcJ8om','D3aRl3e9','5P+55yI+5PYB5A+i546Q','WPddUSkjWRldQq','vSoMomod','sCofdCobWQ0','g3nREW','k39vnXneWQD5tN/dJrFdHG','W6XQW6HJ','iqdcTWC','W7ZdVmkwzCop','WOlcSwOUvG','W4/cOuFcR1e','ueOxW6ddSSkGW6S7gL/cNcldGW','W6LaW7vIuq','fYXgWQxcSW','WOZcSKOeDq','BSoDh8oN54Q15PYX5lUR5y2H5PsR5OYU','57Y+5ywL6zsb6k+G','oLzLW63dVq','WP/cRbCbWPC','WP/dK8k5W7RdSG','WQldS8oYWQ/cVW'].concat((function(){return['C30tWRD7qxW','W53dUN4gWOrIDSorthdcNCo4WOu','WQHQh2FcNq4','WP4brsin','8jQjQVcKMlxWLBMC8lQ4T/cBQjxWU7MN','omkmDYBcNq','umoGo8oOWPHZWOldGM1cWOy','WPhdHmkSWPJdSq','rIpcPxrrW4ymbvq','hNb0W7an','vcifEuK','W6jGW6j/zCk2AMzIWRfE','WRFdNNKtAW','W4xcP3tcGG','WPBdOmkhWPCj','W7n3W60','eSkgqmozDG','t8kdWRudW7i','WRBdU8kAWORdRa','5Rk15lQO5l635zcA','lLNdI8ocWQPIWRfbW6nIgWO7W7ZcQcddNSoNWQtdMq','cmoLuW','W73dLSooWO8bW7HKEW','WQBdKYldJfa','WOH5fSkSW7S','WPxcV1iIsspcPCoLCtNdQW','DmkHrvX2','WP98lSkqW6O','WOZcVcxcQLi','WQJdNCo5WOxcIa','W7ZcKmooWQdcIcaZxKNcU8kTASoD','tmoBcmoBWPO','sdXiWOtcQqvYnSokDYZdIG','uthdHSkBW6u','AL3dICoUW6G','WRTKcxhdGG','CbyDWQtcMSksy28fWO4OW7z5','W6CLfNhdGbq3','j0fBW70','bCkLWOvzW78','AuHxW7GMW4BcKW','WObGW4bzWOJcTM0VW5fFWP4x','WRJdGmkmW4NdNxjZsuW','WQhcMCozWPO','o8k2WPPpW6O','WOFcVZjgW4rRAmk7ANJcVmomWOldVSk4W67dISoolNJcRCkqvgS/WQRcOG','WRlcTYKdWRq','W6NdLx7dVrHSW7LepriVCCk1','f8k+bhVcGXBcMItdQHfXW77dMSoE','nsxcHcpdSa','bCkkwtu'].concat((function(){return['WOhcR3hdTtFdISoAW7zTzrJcO8oe','WPJdVZNdJrRcLW','wmoubJZdVa','nmkpWP9A','W5aCWQicW50','hwyEW44','WPlcPgWKuchcVSoaAq','u0vdj8kG','W6tdUxiUWOStemoQDa','W7ldM8kYAmoeuSoaaq','WO/dPmkaWOa','5P+r552K6zEQ6kYB','W4pdHSkOwCoW','CvNdICoyW6a','c3DSBG','W6NcKmoJW7xcJmklWOqyWRW1W5/dR8kH','WOesvcKE','WQxcMCobWOSB','WQddStK7W5mitCoWp8ogWQrHWPZcMCkBW6T+WQDgFWFdGq','5PYu5OYF5PYj77+l6kYT55UC5B6A','WPVcPaPzW4a0nCoxFg7cTq','vmopjmkaWQ0','576n5yEA6lww5PsX','W6JdNmkHyW','EZGbzN0bW7D8FKK','WRxcL8oEWO8','keXjrSoT','WR7dN8kBWR7dLG','WQ3dRCkYWPRdUIy','W4C0WOazW5q','f30oW4FdOW8NvCo4j3FcLN5yWPz4W6NdTg7dSCkrWOm','CCoTfCo3W7i','mISuAG0uW6TLCXxdUZRdGXibW5KtW6rLWQS','gIn9BW','av9aF8ok','CKZdICocW6T2WR1vW7m','hqFdTCkqW5WDba','WPBcN8ooWOSL','m8kpWPvA','WODdlLGK','WQ/dMCkmW7RdMhrKweNcK8kNcmoIW6ddLCoK','mI1aW64QaJ8+mNJcS8o/WOy','WPVcJCoBvLddSSkR','W6NcJmoziW','tM8Ubgq','WRddJmk9WQddJmou','WQf2ewVdHKn+WPfwWPpcImoopmoR','WRxcMCoeWOS','BSkywwHK','W73cN8ooWQ7cHIa8tNNcPmkfxSo9'];}()));}()));}());_0x547e=function(){return _0x3a4176;};return _0x547e();};function output(..._0x52eb8c){const _0x8c1667=_0xf9124a;debug&&console[_0x8c1667(0x153,'V*t2')]([..._0x52eb8c][_0x8c1667(0x1dd,'V8Cz')]('\x0a'));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`üîî${this.name}, ÂºÄÂßã!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t);break;case"Node.js":this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
